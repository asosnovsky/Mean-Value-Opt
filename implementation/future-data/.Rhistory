return((log(X)))
} else {
return((((X^lmd) - 1)/lmd))
}
}
setwd("F:/data")
rm(list=ls())
stock_dir = "E:/data/data/time_series/2008-2012/"
stock_list = gsub(".csv","",dir(stock_dir));
stock_name = stock_list[floor(runif(1)*length(stock_list))];
data <- read.csv(paste0(stock_dir,"/",stock_name,".csv"));
dates <- data[,1];
data <- as.numeric(data[,4]);
returns <- (data[2:length(data)]-data[1:length(data)-1])/data[1:length(data)-1];
normalized_returns <- returns-min(returns);
plot(data, x=dates, type='l')
plot(normalized_returns, x=dates[2:length(dates)], type='l')
plot(log(normalized_returns), x=dates[2:length(dates)], type='l')
rm(list=ls())
stock_dir = "E:/data/data/time_series/2008-2012/"
stock_list = gsub(".csv","",dir(stock_dir));
stock_name = stock_list[floor(runif(1)*length(stock_list))];
data <- read.csv(paste0(stock_dir,"/",stock_name,".csv"));
data <- read.csv(paste0(stock_dir,"/",stock_name,".csv"));
stock_dir = "E:/data/data/time_series/2008-2012"
stock_list = gsub(".csv","",dir(stock_dir));
stock_name = stock_list[floor(runif(1)*length(stock_list))];
data <- read.csv(paste0(stock_dir,"/",stock_name,".csv"));
stock_dir = "E:/data/data/time_series/2008-2012/Basic Materials"
stock_list = gsub(".csv","",dir(stock_dir));
stock_name = stock_list[floor(runif(1)*length(stock_list))];
data <- read.csv(paste0(stock_dir,"/",stock_name,".csv"));
dates <- data[,1];
data <- as.numeric(data[,4]);
returns <- (data[2:length(data)]-data[1:length(data)-1])/data[1:length(data)-1];
normalized_returns <- returns-min(returns);
plot(data, x=dates, type='l')
plot(data, x=dates, type='l', title=stock_name)
plot(data, x=dates, type='l', main=stock_name)
stock_name
plot(data, x=dates, type='l', main=stock_name)
plot(data)
plot.ts(data)
dir()
getwd()
setwd("F:/")
dir()
setwd("F:/Mean-Value-Opt")
dir()
setwd("F:/Mean-Value-Opt/implementation")
dir()
setwd("F:/Mean-Value-Opt/implementation/future-data")
dataFolder = "F:/Mean-Value-Opt/implementation/future-data";
setwd(dataFolder)
dir()
dir(dataFolder)
sectors = dir(dataFolder)
for sector in sectors {
print(sector)
}
for(sector in sectors) {
print(sector)
}
for(sector in sectors) {
print(gsub(sector,'.csv',''))
}
sector
gsub(sector,'.csv','')
gsub('.csv','',sector,)
gsub('.csv','',sector)
data[[gsub('.csv','',sector)]]=2
data
data
dataFolder = "F:/Mean-Value-Opt/implementation/future-data";
setwd(dataFolder)
sectors = dir(dataFolder)
gsub('.csv','',sector)
data
fprice
fprice[[gsub('.csv','',sector)]]=1
fprice = list()
fprice[[gsub('.csv','',sector)]]=1
fprice$bah = 1
fprice[[gsub('.csv','',sector)]]=1
fprice[[gsub('.csv','',sector)]]=1
for(sector in sectors) {
print(gsub('.csv','',sector))
}
gsub('.csv','',sector)
fprice[[gsub('.csv','',sector)]]=1
fprice
fprice[[gsub('.csv','',sectors[1])]]=1
fprice
cat
paste0(dataFolder,'/',sector)
for(sector in sectors) {
fprice[[gsub('.csv','',sectors[1])]] = read.csv(paste0(dataFolder,'/',sector));
}
dataFolder = "F:/Mean-Value-Opt/implementation/future-data";
setwd(dataFolder)
sectors = dir(dataFolder)
for(sector in sectors) {
fprice[[gsub('.csv','',sectors)]] = read.csv(paste0(dataFolder,'/',sector));
}
fprice = list(;)
fprice = list();
for(sector in sectors) {
fprice[[gsub('.csv','',sectors)]] = read.csv(paste0(dataFolder,'/',sector));
}
dataFolder = "F:/Mean-Value-Opt/implementation/future-data";
setwd(dataFolder)
sectors = dir(dataFolder)
fprice = list();
for(sector in sectors) {
fprice[[gsub('.csv','',sectors)]] = read.csv(paste0(dataFolder,'/',sector));
}
read.csv(paste0(dataFolder,'/',sector))
(paste0(dataFolder,'/',sector))
read.csv(paste0(dataFolder,'/',sector))
read.csv(paste0(dataFolder,'/',sector(1)))
read.csv(paste0(dataFolder,'/',sectors(1)))
read.csv(paste0(dataFolder,'/',sectors(1)))
read.csv(paste0(dataFolder,'/',sectors(1)))
sectors
sectors(1)
read.csv(paste0(dataFolder,'/',sectors[1]))
read.csv(paste0(dataFolder,'/',sectors[2]))
read.csv(paste0(dataFolder,'/',sectors[3]))
read.csv(paste0(dataFolder,'/',sectors[4]))
for(sector in sectors) {
fprice[[gsub('.csv','',sectors)]] = read.csv(paste0(dataFolder,'/',sector));
}
fprice[[gsub('.csv','',sectors)]]
fprice[[gsub('.csv','',sectors)]]=1
for(sector in sectors) {
fprice[[gsub('.csv','',sector)]] = read.csv(paste0(dataFolder,'/',sector));
}
read.csv(paste0(dataFolder,'/',sectors[4]))
read.csv(paste0(dataFolder,'/',sector))
as.numeric(read.csv(paste0(dataFolder,'/',sector)))
gsub("[A-Z|a-z]","",read.csv(paste0(dataFolder,'/',sector)))
read.csv(paste0(dataFolder,'/',sector))
?gsub
gsub("[A-Z|a-z]","",read.csv(paste0(dataFolder,'/',sector)))
gsub("[A-Z]","",read.csv(paste0(dataFolder,'/',sector)))
gsub("X","",read.csv(paste0(dataFolder,'/',sector)))
gsub("","",read.csv(paste0(dataFolder,'/',sector)))
read.csv(paste0(dataFolder,'/',sector))
?read.csv
read.csv(paste0(dataFolder,'/',sector),header = FALSE)
as.numeric(read.csv(paste0(dataFolder,'/',sector),header = FALSE))
dataFolder = "F:/Mean-Value-Opt/implementation/future-data";
setwd(dataFolder)
sectors = dir(dataFolder)
fprice = list();
for(sector in sectors) {
fprice[[gsub('.csv','',sector)]] = as.numeric(read.csv(paste0(dataFolder,'/',sector),header = FALSE));
}
plot(fprice[[gsub('.csv','',sector)]])
plot.ts(fprice[[gsub('.csv','',sector)]])
gsub('.csv','',sectors)
for(sector in gsub('.csv','',sectors)) {
plot(fprice[[sector]])
}
plot.ts(fprice[[sector]])
dates
date
seq.Date()
seq.Date(from="2008",to="2012")
seq.Date(from="2008",to="2012")
?seq.Date
require(chron)
seq.Date(to = as.Date("20080101",format=format),
from = as.Date("20121231",format=format),
by = 1)
seq.Date(to = as.Date("20080101",format="%Y%m%d"),
from = as.Date("20121231",format="%Y%m%d"),
by = 1)
seq.Date(to = as.Date("20080101",format="%Y%m%d"),
from = as.Date("20121231",format="%Y%m%d"),
by = 1)
seq.Date(to = as.Date("2008/01/01"),
from = as.Date("2012/12/31"),
by = 1)
seq.Date(to = as.Date("2008/01/01"),
from = as.Date("2012/12/31"))
seq.Date(to = as.Date("2008/01/01"),from = as.Date("2012/12/31"))
seq.Date(to = as.Date("2012/12/31"),from = as.Date("2008/01/01"))
seq.Date(to = as.Date("2008/01/01"),
from = as.Date("2012/12/31"),
by = "days")
seq.Date(to = as.Date("2008/01/01"),
from = as.Date("2012/12/31"),
by = "daily")
seq(as.Date("2000/1/1"), by = "month", length.out = 12)
seq(as.Date("2000/1/1"), by = "days", length.out = 12)
seq(as.Date("2008/1/1"),as.Date("2012/12/31"), by = "days")
dates<-seq(as.Date("2008/1/1"),as.Date("2012/12/31"), by = "days")
as.Date(dates[!is.weekend(dates)])
as.Date(dates[!is.weekend(dates)])
fprice[[sector]]
as.Date(dates[!is.weekend(dates)])
length(fprice[[sector]])
length(as.Date(dates[!is.weekend(dates)]))
dates<-seq(as.Date("2008/1/1"),as.Date("2008/12/31"), by = "days")
length(as.Date(dates[!is.weekend(dates)]))
length(as.Date(dates[!is.weekend(dates)]))*4
(2012-2008)/length(as.Date(dates[!is.weekend(dates)]))
length(as.Date(dates[!is.weekend(dates)]))/(2012-2008)
length(as.Date(dates[!is.weekend(dates)]))/length(fprice[[sector]])
length(as.Date(dates[!is.weekend(dates)]))
length(fprice[[sector]])
length(fprice[[sector]])length(fprice[[sector]])/262
length(fprice[[sector]])/262
length(as.Date(dates[!is.weekend(dates)]))*4
length(as.Date(dates[!is.weekend(dates)]))
dates<-seq(as.Date("2008/1/1"),as.Date("2012/12/31"), by = "days")
length(as.Date(dates[!is.weekend(dates)]))
dates<-seq(as.Date("2008/1/1"),as.Date("2012/1/1"), by = "days")
length(as.Date(dates[!is.weekend(dates)]))
dates<-seq(as.Date("2009/1/1"),as.Date("2012/12/31"), by = "days")
length(as.Date(dates[!is.weekend(dates)]))
length(fprice[[sector]])/262
length(fprice[[sector]])
dates<-seq(as.Date("2009/1/1"),as.Date("2012/12/31"), by = "days");
dates = as.Date(dates[!is.weekend(dates)]);
dates
cbind(fprice[[sector]],dates)
cbind(dates,fprice[[sector]])
data.frame(dates=dates,data=fprice[[sector]])
data.frame(dates=dates(1:length(fprice[[sector]])),data=fprice[[sector]])
plot.ts(data.frame(dates=dates(1:length(fprice[[sector]])),data=fprice[[sector]]));
plot.ts(data.frame(dates=dates(1:length(fprice[[sector]])),data=fprice[[sector]]));
}
data.frame(dates=dates(1:length(fprice[[sector]])),data=fprice[[sector]])
d=data.frame(dates=dates(1:length(fprice[[sector]])),data=fprice[[sector]])
plot(d)
plot.ts(d)
d$dates
as.Date(d$dates)
d=data.frame(dates=as.Dates(dates(1:length(fprice[[sector]]))),data=fprice[[sector]])
d=data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]])
plot(d)
plot.ts(d)
?plot.ts
plot.ts(fprice[[sector]], y=as.Date(dates))
plot.ts(fprice[[sector]], y=as.Date(dates(1:length(fprice[[sector]]))))
plot.ts(y=fprice[[sector]], x=as.Date(dates(1:length(fprice[[sector]]))))
plot(y=fprice[[sector]], x=as.Date(dates(1:length(fprice[[sector]]))))
plot(y=fprice[[sector]], x=as.Date(dates(1:length(fprice[[sector]]))),type='l')
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data)
})
?plot
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab = expression(w^T[2008]M[2009]))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab = expression(w^T[2008]M[2009]))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector)
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w^T[2008]M[2009]))
expression(w^T[2008]M[2009])
expression("w^T[2008]M[2009]")
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression("w^T[2008]M[2009]"))
})
?"expression"
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression("w^T_{2008}M[2009]"))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression("w[y]"))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression("w[[y]]"))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression("w{y}"))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression("w_y"))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression("w[y]"))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[y]))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T M[2009](:,P[2008])))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T M[2009]))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^TM[2009]))
})
}
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T*M[2009]))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T*M[2009]{:,P}))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T*M[2009]))
})
}
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T*M[2009]))
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T*M[2009]),xlab="Time")
})
}
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',xlab="Time", main=sector, ylab=expression(w[2008]^T*M[2009]))
})
}
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w[2008]^T*M[2009]))
})
}
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, ylab=expression(w^T*M))
})
}
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector)
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, xlab="Time")
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=sector, xlab="Time", ylab="Close Price")
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=paste(sector, "Sector"), xlab="Time", ylab="Close Price")
})
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=paste(sector, "Sector"), xlab="Time", ylab="Close Price")
})
}
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
with(data.frame(dates=as.Date(dates(1:length(fprice[[sector]]))),data=fprice[[sector]]),{
plot(x=dates,y=data, type='l', main=paste(sector, "Sector"), xlab="Time", ylab="Close Price")
})
)
with(data.frame(
dates=as.Date(dates(1:length(fprice[[sector]]))),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
gsub('.csv','',sectors)
gsub('.csv','',sectors)[1]
gsub('.csv','',sectors)[2]
sector=gsub('.csv','',sectors)[2]
with(data.frame(
dates=as.Date(dates(1:length(fprice[[sector]]))),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
dates
as.Date(dates(1:length(fprice[[sector]])))
(dates(1:length(fprice[[sector]])))
dates
dates
as.Dates(dates)
as.Date(dates)
dates
dates(1:2)
head(dates)
dates[[1:20]]
dates[1:20]
with(data.frame(
dates=as.Date(dates[1:length(fprice[[sector]])]),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
par
?par
par(mfrow = c(2, 2))
with(data.frame(
dates=as.Date(dates[1:length(fprice[[sector]])]),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
with(data.frame(
dates=as.Date(dates[1:length(fprice[[sector]])]),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
with(data.frame(
dates=as.Date(dates[1:length(fprice[[sector]])]),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
with(data.frame(
dates=as.Date(dates[1:length(fprice[[sector]])]),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
dates<-seq(as.Date("2009/1/1"),as.Date("2012/12/31"), by = "days");
dates = as.Date(dates[!is.weekend(dates)]);
for(sector in gsub('.csv','',sectors)) {
par(mfrow = c(3, 3));
with(data.frame(
dates=as.Date(dates[1:length(fprice[[sector]])]),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
}
dates<-seq(as.Date("2009/1/1"),as.Date("2012/12/31"), by = "days");
dates = as.Date(dates[!is.weekend(dates)]);
par(mfrow = c(3, 3));
for(sector in gsub('.csv','',sectors)) {
with(data.frame(
dates=as.Date(dates[1:length(fprice[[sector]])]),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
}
sectors
length(sectors)
par(mfrow = c(3, 3));
for(sector in gsub('.csv','',sectors)) {
with(data.frame(
dates=as.Date(dates[1:length(fprice[[sector]])]),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
}
dates = as.Date(dates[!is.weekend(dates)]);
par(mfrow = c(3, 3));
for(sector in gsub('.csv','',sectors)) {
with(data.frame(
dates=as.Date(dates[1:length(fprice[[sector]])]),
data=fprice[[sector]]),{
plot(x=dates,y=data, type='l',
main=paste(sector, "Sector"),
xlab="Time", ylab="Close Price"
);
})
}
?ig.pos
?fig.pos
??fig.pos
```{r, echo=FALSE, fig.height=7, fig.width=5, fig.pos='center'}
opts_chunk
library(knitr)
knit('foo.Rmd')  # gives foo.md
pandoc('foo.md', format='latex')  # gives foo.tex
x = readLines('foo.tex')
# insert the float package
x = sub('(\\\\begin\\{document\\})', '\\\\usepackage{float}\n\\1', x)
# add the H option for all figures
x = gsub('(\\\\begin\\{figure\\})', '\\1[H]', x)
# write the processed tex file back
writeLines(x, 'foo.tex')
# compile to pdf
tools::texi2pdf('foo.tex')
library(knitr)
knit('foo.Rmd')  # gives foo.md
as.numeric(read.csv(paste0(dataFolder,'/',sector),header = FALSE))
sectors
sector=sectors[1]
as.numeric(read.csv(paste0(dataFolder,'/',sector),header = FALSE));
read.csv(paste0(dataFolder,'/',sector),header = FALSE)
read.csv(paste0(dataFolder,'/',sector),header = FALSE)
